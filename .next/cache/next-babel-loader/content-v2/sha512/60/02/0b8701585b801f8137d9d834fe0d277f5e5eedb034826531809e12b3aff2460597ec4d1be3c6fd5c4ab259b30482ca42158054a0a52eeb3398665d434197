{"ast":null,"code":"function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { v4 as uuidv4 } from \"uuid\";\nimport { ADD_TO_CART, DECREASE_QUANTITY, DELETE_FROM_CART, DELETE_ALL_FROM_CART } from \"../actions/cartActions\";\nconst initState = [];\n\nconst cartReducer = (state = initState, action) => {\n  const cartItems = state,\n        product = action.payload;\n\n  if (action.type === ADD_TO_CART) {\n    // for non variant products\n    if (product.variation === undefined) {\n      const cartItem = cartItems.filter(item => item.id === product.id)[0];\n\n      if (cartItem === undefined) {\n        return [...cartItems, _objectSpread(_objectSpread({}, product), {}, {\n          quantity: product.quantity ? product.quantity : 1,\n          cartItemId: uuidv4()\n        })];\n      } else {\n        return cartItems.map(item => item.cartItemId === cartItem.cartItemId ? _objectSpread(_objectSpread({}, item), {}, {\n          quantity: product.quantity ? item.quantity + product.quantity : item.quantity + 1\n        }) : item);\n      } // for variant products\n\n    } else {\n      const cartItem = cartItems.filter(item => item.id === product.id && product.selectedProductColor && product.selectedProductColor === item.selectedProductColor && product.selectedProductSize && product.selectedProductSize === item.selectedProductSize && (product.cartItemId ? product.cartItemId === item.cartItemId : true))[0];\n\n      if (cartItem === undefined) {\n        return [...cartItems, _objectSpread(_objectSpread({}, product), {}, {\n          quantity: product.quantity ? product.quantity : 1,\n          cartItemId: uuidv4()\n        })];\n      } else if (cartItem !== undefined && (cartItem.selectedProductColor !== product.selectedProductColor || cartItem.selectedProductSize !== product.selectedProductSize)) {\n        return [...cartItems, _objectSpread(_objectSpread({}, product), {}, {\n          quantity: product.quantity ? product.quantity : 1,\n          cartItemId: uuidv4()\n        })];\n      } else {\n        return cartItems.map(item => item.cartItemId === cartItem.cartItemId ? _objectSpread(_objectSpread({}, item), {}, {\n          quantity: product.quantity ? item.quantity + product.quantity : item.quantity + 1,\n          selectedProductColor: product.selectedProductColor,\n          selectedProductSize: product.selectedProductSize\n        }) : item);\n      }\n    }\n  }\n\n  if (action.type === DECREASE_QUANTITY) {\n    if (product.quantity === 1) {\n      const remainingItems = (cartItems, product) => cartItems.filter(cartItem => cartItem.cartItemId !== product.cartItemId);\n\n      return remainingItems(cartItems, product);\n    } else {\n      return cartItems.map(item => item.cartItemId === product.cartItemId ? _objectSpread(_objectSpread({}, item), {}, {\n        quantity: item.quantity - 1\n      }) : item);\n    }\n  }\n\n  if (action.type === DELETE_FROM_CART) {\n    const remainingItems = (cartItems, product) => cartItems.filter(cartItem => cartItem.cartItemId !== product.cartItemId);\n\n    return remainingItems(cartItems, product);\n  }\n\n  if (action.type === DELETE_ALL_FROM_CART) {\n    return cartItems.filter(item => {\n      return false;\n    });\n  }\n\n  return state;\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/jungjunwoo/Downloads/themeforest-0OFwquHn-lezada-react-next-js-multipurpose-ecommerce-template 2/lezada/src/redux/reducers/cartReducer.js"],"names":["v4","uuidv4","ADD_TO_CART","DECREASE_QUANTITY","DELETE_FROM_CART","DELETE_ALL_FROM_CART","initState","cartReducer","state","action","cartItems","product","payload","type","variation","undefined","cartItem","filter","item","id","quantity","cartItemId","map","selectedProductColor","selectedProductSize","remainingItems"],"mappings":";;;;;;AAAA,SAASA,EAAE,IAAIC,MAAf,QAA6B,MAA7B;AACA,SACEC,WADF,EAEEC,iBAFF,EAGEC,gBAHF,EAIEC,oBAJF,QAKO,wBALP;AAOA,MAAMC,SAAS,GAAG,EAAlB;;AAEA,MAAMC,WAAW,GAAG,CAACC,KAAK,GAAGF,SAAT,EAAoBG,MAApB,KAA+B;AACjD,QAAMC,SAAS,GAAGF,KAAlB;AAAA,QACEG,OAAO,GAAGF,MAAM,CAACG,OADnB;;AAGA,MAAIH,MAAM,CAACI,IAAP,KAAgBX,WAApB,EAAiC;AAC/B;AACA,QAAIS,OAAO,CAACG,SAAR,KAAsBC,SAA1B,EAAqC;AACnC,YAAMC,QAAQ,GAAGN,SAAS,CAACO,MAAV,CAAkBC,IAAD,IAAUA,IAAI,CAACC,EAAL,KAAYR,OAAO,CAACQ,EAA/C,EAAmD,CAAnD,CAAjB;;AACA,UAAIH,QAAQ,KAAKD,SAAjB,EAA4B;AAC1B,eAAO,CACL,GAAGL,SADE,kCAGAC,OAHA;AAIHS,UAAAA,QAAQ,EAAET,OAAO,CAACS,QAAR,GAAmBT,OAAO,CAACS,QAA3B,GAAsC,CAJ7C;AAKHC,UAAAA,UAAU,EAAEpB,MAAM;AALf,WAAP;AAQD,OATD,MASO;AACL,eAAOS,SAAS,CAACY,GAAV,CAAeJ,IAAD,IACnBA,IAAI,CAACG,UAAL,KAAoBL,QAAQ,CAACK,UAA7B,mCAESH,IAFT;AAGME,UAAAA,QAAQ,EAAET,OAAO,CAACS,QAAR,GACNF,IAAI,CAACE,QAAL,GAAgBT,OAAO,CAACS,QADlB,GAENF,IAAI,CAACE,QAAL,GAAgB;AAL1B,aAOIF,IARC,CAAP;AAUD,OAtBkC,CAuBnC;;AACD,KAxBD,MAwBO;AACL,YAAMF,QAAQ,GAAGN,SAAS,CAACO,MAAV,CACdC,IAAD,IACEA,IAAI,CAACC,EAAL,KAAYR,OAAO,CAACQ,EAApB,IACAR,OAAO,CAACY,oBADR,IAEAZ,OAAO,CAACY,oBAAR,KAAiCL,IAAI,CAACK,oBAFtC,IAGAZ,OAAO,CAACa,mBAHR,IAIAb,OAAO,CAACa,mBAAR,KAAgCN,IAAI,CAACM,mBAJrC,KAKCb,OAAO,CAACU,UAAR,GAAqBV,OAAO,CAACU,UAAR,KAAuBH,IAAI,CAACG,UAAjD,GAA8D,IAL/D,CAFa,EAQf,CARe,CAAjB;;AAUA,UAAIL,QAAQ,KAAKD,SAAjB,EAA4B;AAC1B,eAAO,CACL,GAAGL,SADE,kCAGAC,OAHA;AAIHS,UAAAA,QAAQ,EAAET,OAAO,CAACS,QAAR,GAAmBT,OAAO,CAACS,QAA3B,GAAsC,CAJ7C;AAKHC,UAAAA,UAAU,EAAEpB,MAAM;AALf,WAAP;AAQD,OATD,MASO,IACLe,QAAQ,KAAKD,SAAb,KACCC,QAAQ,CAACO,oBAAT,KAAkCZ,OAAO,CAACY,oBAA1C,IACCP,QAAQ,CAACQ,mBAAT,KAAiCb,OAAO,CAACa,mBAF3C,CADK,EAIL;AACA,eAAO,CACL,GAAGd,SADE,kCAGAC,OAHA;AAIHS,UAAAA,QAAQ,EAAET,OAAO,CAACS,QAAR,GAAmBT,OAAO,CAACS,QAA3B,GAAsC,CAJ7C;AAKHC,UAAAA,UAAU,EAAEpB,MAAM;AALf,WAAP;AAQD,OAbM,MAaA;AACL,eAAOS,SAAS,CAACY,GAAV,CAAeJ,IAAD,IACnBA,IAAI,CAACG,UAAL,KAAoBL,QAAQ,CAACK,UAA7B,mCAESH,IAFT;AAGME,UAAAA,QAAQ,EAAET,OAAO,CAACS,QAAR,GACNF,IAAI,CAACE,QAAL,GAAgBT,OAAO,CAACS,QADlB,GAENF,IAAI,CAACE,QAAL,GAAgB,CAL1B;AAMMG,UAAAA,oBAAoB,EAAEZ,OAAO,CAACY,oBANpC;AAOMC,UAAAA,mBAAmB,EAAEb,OAAO,CAACa;AAPnC,aASIN,IAVC,CAAP;AAYD;AACF;AACF;;AAED,MAAIT,MAAM,CAACI,IAAP,KAAgBV,iBAApB,EAAuC;AACrC,QAAIQ,OAAO,CAACS,QAAR,KAAqB,CAAzB,EAA4B;AAC1B,YAAMK,cAAc,GAAG,CAACf,SAAD,EAAYC,OAAZ,KACrBD,SAAS,CAACO,MAAV,CACGD,QAAD,IAAcA,QAAQ,CAACK,UAAT,KAAwBV,OAAO,CAACU,UADhD,CADF;;AAIA,aAAOI,cAAc,CAACf,SAAD,EAAYC,OAAZ,CAArB;AACD,KAND,MAMO;AACL,aAAOD,SAAS,CAACY,GAAV,CAAeJ,IAAD,IACnBA,IAAI,CAACG,UAAL,KAAoBV,OAAO,CAACU,UAA5B,mCACSH,IADT;AACeE,QAAAA,QAAQ,EAAEF,IAAI,CAACE,QAAL,GAAgB;AADzC,WAEIF,IAHC,CAAP;AAKD;AACF;;AAED,MAAIT,MAAM,CAACI,IAAP,KAAgBT,gBAApB,EAAsC;AACpC,UAAMqB,cAAc,GAAG,CAACf,SAAD,EAAYC,OAAZ,KACrBD,SAAS,CAACO,MAAV,CACGD,QAAD,IAAcA,QAAQ,CAACK,UAAT,KAAwBV,OAAO,CAACU,UADhD,CADF;;AAIA,WAAOI,cAAc,CAACf,SAAD,EAAYC,OAAZ,CAArB;AACD;;AAED,MAAIF,MAAM,CAACI,IAAP,KAAgBR,oBAApB,EAA0C;AACxC,WAAOK,SAAS,CAACO,MAAV,CAAkBC,IAAD,IAAU;AAChC,aAAO,KAAP;AACD,KAFM,CAAP;AAGD;;AAED,SAAOV,KAAP;AACD,CA/GD;;AAiHA,eAAeD,WAAf","sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\r\nimport {\r\n  ADD_TO_CART,\r\n  DECREASE_QUANTITY,\r\n  DELETE_FROM_CART,\r\n  DELETE_ALL_FROM_CART\r\n} from \"../actions/cartActions\";\r\n\r\nconst initState = [];\r\n\r\nconst cartReducer = (state = initState, action) => {\r\n  const cartItems = state,\r\n    product = action.payload;\r\n\r\n  if (action.type === ADD_TO_CART) {\r\n    // for non variant products\r\n    if (product.variation === undefined) {\r\n      const cartItem = cartItems.filter((item) => item.id === product.id)[0];\r\n      if (cartItem === undefined) {\r\n        return [\r\n          ...cartItems,\r\n          {\r\n            ...product,\r\n            quantity: product.quantity ? product.quantity : 1,\r\n            cartItemId: uuidv4()\r\n          }\r\n        ];\r\n      } else {\r\n        return cartItems.map((item) =>\r\n          item.cartItemId === cartItem.cartItemId\r\n            ? {\r\n                ...item,\r\n                quantity: product.quantity\r\n                  ? item.quantity + product.quantity\r\n                  : item.quantity + 1\r\n              }\r\n            : item\r\n        );\r\n      }\r\n      // for variant products\r\n    } else {\r\n      const cartItem = cartItems.filter(\r\n        (item) =>\r\n          item.id === product.id &&\r\n          product.selectedProductColor &&\r\n          product.selectedProductColor === item.selectedProductColor &&\r\n          product.selectedProductSize &&\r\n          product.selectedProductSize === item.selectedProductSize &&\r\n          (product.cartItemId ? product.cartItemId === item.cartItemId : true)\r\n      )[0];\r\n\r\n      if (cartItem === undefined) {\r\n        return [\r\n          ...cartItems,\r\n          {\r\n            ...product,\r\n            quantity: product.quantity ? product.quantity : 1,\r\n            cartItemId: uuidv4()\r\n          }\r\n        ];\r\n      } else if (\r\n        cartItem !== undefined &&\r\n        (cartItem.selectedProductColor !== product.selectedProductColor ||\r\n          cartItem.selectedProductSize !== product.selectedProductSize)\r\n      ) {\r\n        return [\r\n          ...cartItems,\r\n          {\r\n            ...product,\r\n            quantity: product.quantity ? product.quantity : 1,\r\n            cartItemId: uuidv4()\r\n          }\r\n        ];\r\n      } else {\r\n        return cartItems.map((item) =>\r\n          item.cartItemId === cartItem.cartItemId\r\n            ? {\r\n                ...item,\r\n                quantity: product.quantity\r\n                  ? item.quantity + product.quantity\r\n                  : item.quantity + 1,\r\n                selectedProductColor: product.selectedProductColor,\r\n                selectedProductSize: product.selectedProductSize\r\n              }\r\n            : item\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  if (action.type === DECREASE_QUANTITY) {\r\n    if (product.quantity === 1) {\r\n      const remainingItems = (cartItems, product) =>\r\n        cartItems.filter(\r\n          (cartItem) => cartItem.cartItemId !== product.cartItemId\r\n        );\r\n      return remainingItems(cartItems, product);\r\n    } else {\r\n      return cartItems.map((item) =>\r\n        item.cartItemId === product.cartItemId\r\n          ? { ...item, quantity: item.quantity - 1 }\r\n          : item\r\n      );\r\n    }\r\n  }\r\n\r\n  if (action.type === DELETE_FROM_CART) {\r\n    const remainingItems = (cartItems, product) =>\r\n      cartItems.filter(\r\n        (cartItem) => cartItem.cartItemId !== product.cartItemId\r\n      );\r\n    return remainingItems(cartItems, product);\r\n  }\r\n\r\n  if (action.type === DELETE_ALL_FROM_CART) {\r\n    return cartItems.filter((item) => {\r\n      return false;\r\n    });\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nexport default cartReducer;\r\n"]},"metadata":{},"sourceType":"module"}